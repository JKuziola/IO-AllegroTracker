{% extends "base_generic.html" %}

{% block title %}Registration page{% endblock %}

{% block content %}
    <div class="content">
{#        <p class="username-invalid-feedback" style="display: none; font-weight: bold"></p>#}
{#        <p class="email-invalid-feedback" style="display: none; font-weight: bold"></p>#}
        {% if next %}
            <p>Your account doesn't have access to this page. To proceed,
                please login with an account that has access.</p>
        {% else %}
            <p>Register your account here.</p>
        {% endif %}
        <button id="redirect" class="menu-bar-button" style="margin-bottom: 10px">Already have an account? Login here!
        </button>

        <form method="post">
            {% csrf_token %}
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <p style="color: red">{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
            <div class="form-group" style="margin-bottom: 3.5px">
                <label for="usernameField">Username:</label>
                <input
                        type="text"
                        name="username"
                        class="form-control"
                        id="usernameField"
                        value="{{ fieldValues.username }}"
                        required
                >
            </div>
            <div class="form-group" style="margin-bottom: 3.5px">
                <label for="emailField">Email:</label>
                <input
                        type="email"
                        name="email"
                        class="form-control"
                        id="emailField"
                        style="margin-left: 29.5px"
                        value="{{ fieldValues.email }}"
                        required
                >
            </div>
            <div class="form-group">
                <label for="passwordField">Password:</label>
                <input
                        type="password"
                        name="password"
                        class="form-control"
                        id="passwordField"
                        style="margin-left: 3px; margin-bottom: 3.5px;"
                        required
                >
            </div>
            <small class="show-password-toggle">SHOW PASSWORD</small>
            <input type="submit" id="submit-btn" value="Register" style="margin-top: 10px; border-radius: 5px"
                   class="menu-bar-button">
        </form>
    </div>
    <div class="username-invalid-feedback" style="display: none; font-weight: bold"></div>
    <div class="email-invalid-feedback" style="display: none; font-weight: bold"></div>
    <script>
        document.getElementById("redirect").addEventListener("click", function redirectFunction() {
            window.location.href = "/accounts/login/";
        });
    </script>
    <script src='../../static/AllegroTracker/register.js'></script>
{% endblock %}
